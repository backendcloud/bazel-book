# 简介

# Bazel 是什么

Bazel是一个构建工具, 它可以协调构建各个模块, 并且可以运行单元测试. 它的扩展语言使它可以构建任何类型的计算机语言。


# Bazel 的特性：

* 减少构建时间： 加速你的构建和测试, 有着很好的本地和分布式缓存. 优化的依赖分析和并发执行, 可以快速的增量构建。

* 一个工具,构建多种语言： 它可以构建和测试Java, C++, Android, iOS, Go 和其它各种各样的语言. Bazel 可以运行在 Windows, macOS, 和 Linux上。

* 可伸缩的： Bazel可以帮助扩大你的组织, 代码库 和 持续集成系统. 它能处理任意大小的代码库. 也可以处理多个库, 或者巨大的包含许多不同项目的单一代码库。

* 可扩展的： 使用Bazel的扩展语言能轻松的添加对新语言和平台的支持。 你也可以分享和重用bazel社区写的语言规则。

# 使用 Bazel
要使用 Bazel 构建或测试项目，您通常执行以下操作：

1. 下载并安装 Bazel。
2. 设置一个项目工作区，这是 Bazel 查找构建输入和BUILD文件以及存储构建输出的目录。
3. 编写一个BUILD文件，告诉 Bazel 要构建什么以及如何构建它。
    * BUILD声明构建您可以通过使用Starlark（一种特定于域的语言）目标来编写文件 。
    * 构建目标指定 Bazel 将构建的一组输入artifacts及其依赖项、Bazel 将用于构建它的构建规则以及配置构建规则的选项。
    * 构建规则指定 Bazel 将使用的构建工具，例如编译器和链接器，以及它们的配置。Bazel 附带了许多构建规则，也可以自己编写构建规则。


# Bazel 构建过程
在运行构建或测试时，Bazel 执行以下操作：

1. 加载与目标相关的BUILD文件。
2. 分析输入及其 依赖关系，应用指定的构建规则，并生成操作图。
3. 对输入执行构建操作，直到生成最终构建输出。

由于所有以前的构建工作都被缓存，Bazel 可以识别和重用缓存的artifacts，并且只重建或重新测试更改的内容。为了进一步确保正确性，您可以设置 Bazel 以 通过沙盒密封运行构建和测试，从而最大限度地减少偏差并最大限度地提高可重复性。